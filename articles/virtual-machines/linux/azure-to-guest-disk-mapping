---
title: How to Map Azure Disks to VM Guest Disks
description: How to determine the Azure Disks that underlay a VM guest disks.
author: timbasham
ms.service: virtual-machines-linux
ms.subservice: disks
ms.workload: infrastructure-services
ms.topic: how-to
ms.date: 11/17/2020
ms.author: tibasham

---
# How to Map Azure Disks to VM guest disks

You may need to determine the Azure Disks that back a VM's guest disks. In some scenarios you can simply compare the disk or volume size to the size of the attached Azure Disks. In scenarios where there are multiple Azure Disks of the same size attached to the VM you will need to use the Logical Unit Number (LUN) of the data disks. 

## What is a LUN?

A Logical Unit Number (LUN) is a number that is used to identify a specific storage device. Each storage device is assigned a unique numeric identifier, starting at zero. The full path to a device is represented by the bus number, target ID number, and Logical Unit Number (LUN). 

For example:
***Bus Number 0, Target Id 0, LUN 3***

For our exercise you only need to utilize the LUN.

## Finding the LUN

Below we have listed two methods for finding the LUN of a disk in Linux.

### lsscsi

1. Connect to the VM
1. `sudo lsscsi`

The first column listed will contain the LUN, the format is [Host:Channel:Target:**LUN**]

### Listing Block Devices

1. Connect to the VM
1. `sudo ls -l /sys/block/*/device`

The last column listed will contain the LUN, the format is [Host:Channel:Target:**LUN**]

## Finding the LUN for the Azure Disks

You can locate the LUN for an Azure Disk using the Azure Portal, Azure CLI or Azure PowerShell

### Finding an Azure Disk's LUN in the Portal

1. In the Portal select "Virtual Machines" to disply a list of your Virtual Machines
1. Click on the Virtual Machine
1. Click on "Disks"
1. Select a data disk from the list of attached disks.
1. The LUN of the disk will be displayed in the disk detail pane. The LUN displayed here correlates to the LUNs that were looked up in the Guest using Device Manager or Server Manager.

### Finding an Azure Disk's LUN using Azure CLI

```azurecli-interactive
az vm show -g myResourceGroup -n myVM --query "storageProfile.dataDisks"
```

## Next steps


